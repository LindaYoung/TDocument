卡顿、耗电问题、内存抖动问题、

### 内存抖动

定义：在短时间内有大量的对象被创建-被回收，导致内存快速飙升又gc回收后回落的内存波动现象。

产生原因：主要是频繁在次数多的循环里创建对象，在onDraw里创建对象（每次view刷新都会走onDraw，如果刷新频繁就会导致onDraw被调用频繁）

影响：频繁的内存抖动回造成系统卡顿。如果内存持续飙升没来得及GC还有可能导致内存溢出。



问：onDraw里创建对象为什么回导致内存抖动而不是内存溢出？

答：在onDraw()方法中创建的对象要么赋值给成员变量，要么赋值给局部变量。赋值给局部变量时，onDraw方法执行完后就再也没其他地方引用到这个对象，下次gc的时候就会被回收；赋值给成员变量时，下次onDraw()方法内会对该成员变量重新赋值，旧的对象没有任何饮用，下次gc时会被回收。如果在onDraw()方法中创建的对象被加入一个List类型的成员变量中，只有在view被回收时才会被回收，这种情况会导致内存溢出。

